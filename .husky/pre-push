#!/bin/bash
# Pre-push validation (can be skipped with --no-verify)
# Full security checks run in CI

set -e

echo "ğŸ” Running pre-push checks..."

# 1. Build check (quick)
echo "ğŸ“¦ Building..."
npm run build || { echo "âŒ Build failed"; exit 1; }

# 2. Unit tests (excludes heavy E2E tests)
echo "ğŸ§ª Running unit tests..."
npm run test:unit || { echo "âŒ Unit tests failed"; exit 1; }

# 3. Package validation (quick check of package files)
echo "ğŸ“‹ Validating package..."
npm run validate || { echo "âŒ Validation failed"; exit 1; }

echo "âœ… Pre-push checks passed!"
