  console.log


      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:326:13)

  console.log
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:327:13)

  console.log
      ğŸš€ Starting Real E2E Tests with cursor-agent

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:328:13)

  console.log
         Version: 2025.12.17-996666f

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:329:13)

  console.log
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:330:13)

  console.log


      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:331:13)

  console.log
    
    ğŸ“ Test repo: /tmp/cursorflow-real-e2e-ylmnJv/repo

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:336:13)

  console.log
    ğŸ“‹ Task file created, starting cursorflow run...

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:368:15)

[90m[21:35:02][0m [36mâ„¹ï¸ INFO[0m Installing missing or outdated Cursor IDE commands...
[90m[21:35:02][0m [33mâš ï¸ WARN[0m It looks like you haven't run `cursorflow doctor` yet.
[90m[21:35:02][0m [33mâš ï¸ WARN[0m Running doctor is highly recommended to catch environment issues early.
   Run: cursorflow doctor

[90m[21:35:02][0m [35m[MAIN][0m [36mâ„¹ï¸ INFO[0m ğŸ—ï¸ Initializing lane create-file: branch=cursorflow/run-mjoa9iiw-flp77/create-file

[36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[36m  ğŸ§­ Starting Orchestration[0m
[36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m

[90m[21:35:02][0m [35m[MAIN][0m [36mâ„¹ï¸ INFO[0m Tasks directory: /tmp/cursorflow-real-e2e-ylmnJv/repo/_cursorflow/tasks
[90m[21:35:02][0m [35m[MAIN][0m [36mâ„¹ï¸ INFO[0m Run directory: /tmp/cursorflow-real-e2e-ylmnJv/repo/_cursorflow/logs/runs/run-1766838902785
[90m[21:35:02][0m [35m[MAIN][0m [36mâ„¹ï¸ INFO[0m Lanes: 1
[90m[21:35:02][0m [35m[MAIN][0m [36mâ„¹ï¸ INFO[0m Lane started: create-file
[90m[21:35:02][0m [36mâ„¹ï¸ INFO[0m Validating task configuration...
[90m[21:35:02][0m [32mâœ… DONE[0m âœ“ Configuration valid
[90m[21:35:03][0m [36mâ„¹ï¸ INFO[0m Checking Cursor authentication...
[90m[21:35:04][0m [32mâœ… DONE[0m âœ“ Cursor authentication OK
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m ğŸ“ Base branch: master (current branch)
[90m[21:35:04][0m [33mâš ï¸ WARN[0m State validation issues: Worktree directory not found: /tmp/cursorflow-real-e2e-ylmnJv/repo/_cursorflow/worktrees/cursorflow-run-mjoa9iiw-flp77-create-file, Branch not found: cursorflow/run-mjoa9iiw-flp77/create-file
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m State was auto-repaired
[21:35:04] [1-1-create-f] [36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[21:35:04] [1-1-create-f] [36m  ğŸš€ Starting Pipeline[0m
[21:35:04] [1-1-create-f] [36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Pipeline Branch: cursorflow/run-mjoa9iiw-flp77/create-file
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Worktree: /tmp/cursorflow-real-e2e-ylmnJv/repo/_cursorflow/worktrees/cursorflow-run-mjoa9iiw-flp77-create-file
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Tasks: 1
[21:35:04] [1-1-create-f] HEAD is now at 0414714 Initial commit
[21:35:04] [1-1-create-f] Preparing worktree (new branch 'cursorflow/run-mjoa9iiw-flp77/create-file')
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Changing directory to worktree: /tmp/cursorflow-real-e2e-ylmnJv/repo/_cursorflow/worktrees/cursorflow-run-mjoa9iiw-flp77-create-file
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Creating chat session...
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Created chat session: 3328a9dc-af45-4dd2-a679-184daf4304af
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Created checkpoint: cp-1766838904654-zn78a (task 0)
[21:35:04] [1-1-create-f] [36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[21:35:04] [1-1-create-f] [36m  [1/1] create-greeting[0m
[21:35:04] [1-1-create-f] [36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Model: sonnet-4.5
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Branch: cursorflow/run-mjoa9iiw-flp77/create-file--01-create-greeting
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m ğŸ”„ Syncing cursorflow/run-mjoa9iiw-flp77/create-file with remote...
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m ğŸŒ¿ Forking task branch: cursorflow/run-mjoa9iiw-flp77/create-file--01-create-greeting from cursorflow/run-mjoa9iiw-flp77/create-file
[21:35:04] [1-1-create-f] Switched to a new branch 'cursorflow/run-mjoa9iiw-flp77/create-file--01-create-greeting'
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Sending prompt to agent...
[90m[21:35:04][0m [36mâ„¹ï¸ INFO[0m Sending prompt to cursor-agent (timeout: 600s)...
[90m[21:35:36][0m [35m[1-1-create-f][0m [32mâœ… DONE[0mâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ I'll help you create the greeting file and commit it. Let me start by checking the current state of the repository.Good! I'm on the correct branch. Now I'll create the greeting.txt file with the required content.Perfect! Now let me verify the changes and commit them.Excellent! The file has been created with the correct content. Now I'll commit and push the changes.Perfect! Let me verify the final status and get the commit information.## âœ… Task Completed Successfully!
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ 
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ ### ğŸ“‹ ìµœì¢… ìš”ì•½
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ 
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ - **ìˆ˜ì •ëœ íŒŒì¼**: [greeting.txt]
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ - **ì‘ì—… ê²°ê³¼**: 
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚   - `greeting.txt` íŒŒì¼ì„ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìƒì„±
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚   - íŒŒì¼ ë‚´ìš©: "Hello from CursorFlow E2E Test!"
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚   - ë³€ê²½ ì‚¬í•­ì„ ì»¤ë°‹í•˜ê³  ì›ê²© ë¸Œëœì¹˜ì— í‘¸ì‹œ ì™„ë£Œ
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ - **ì»¤ë°‹ ì •ë³´**: `9936ede feat: add greeting file`
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ 
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ ### ì‘ì—… ì„¸ë¶€ì‚¬í•­
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ 1. âœ… `greeting.txt` íŒŒì¼ ìƒì„± (ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ì •í™•í•œ ë‚´ìš© í¬í•¨)
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ 2. âœ… Gitì— ë³€ê²½ì‚¬í•­ ì¶”ê°€ ë° ì»¤ë°‹ (ë©”ì‹œì§€: "feat: add greeting file")
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ 3. âœ… ì›ê²© ë¸Œëœì¹˜ë¡œ í‘¸ì‹œ ì™„ë£Œ
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ 4. âœ… ë‹¤ë¥¸ íŒŒì¼ì€ ìˆ˜ì •í•˜ì§€ ì•ŠìŒ
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ 5. âœ… ì˜ì¡´ì„± ë³€ê²½ ì—†ìŒ
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ 
[90m[21:35:36][0m [35m[1-1-create-f][0m        â”‚ ëª¨ë“  ìš”êµ¬ì‚¬í•­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰
[90m[21:35:36][0m [35m[1-1-create-f][0m        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[21:35:36] [1-1-create-f] branch 'cursorflow/run-mjoa9iiw-flp77/create-file--01-create-greeting' set up to track 'origin/cursorflow/run-mjoa9iiw-flp77/create-file--01-create-greeting'.
[21:35:36] [1-1-create-f] Everything up-to-date
[90m[21:35:36][0m [36mâ„¹ï¸ INFO[0m ğŸ“ Task result saved: /tmp/cursorflow-real-e2e-ylmnJv/repo/_cursorflow/logs/runs/run-1766838902785/lanes/create-file/task-results/01-create-greeting.txt
[90m[21:35:36][0m [36mâ„¹ï¸ INFO[0m Merging cursorflow/run-mjoa9iiw-flp77/create-file--01-create-greeting â†’ cursorflow/run-mjoa9iiw-flp77/create-file
[90m[21:35:36][0m [36mâ„¹ï¸ INFO[0m ğŸ”„ Switching to pipeline branch cursorflow/run-mjoa9iiw-flp77/create-file to integrate changes
[21:35:36] [1-1-create-f] Switched to branch 'cursorflow/run-mjoa9iiw-flp77/create-file'
[90m[21:35:36][0m [36mâ„¹ï¸ INFO[0m ğŸ”€ Merging task create-greeting (cursorflow/run-mjoa9iiw-flp77/create-file--01-create-greeting) into cursorflow/run-mjoa9iiw-flp77/create-file
[90m[21:35:36][0m [36mâ„¹ï¸ INFO[0m Changed files:
[21:35:36] [1-1-create-f] greeting.txt | 1 +
[21:35:36] [1-1-create-f] 1 file changed, 1 insertion(+)
[21:35:36] [1-1-create-f] To file:///tmp/cursorflow-real-e2e-ylmnJv/origin.git
[21:35:36] [1-1-create-f] * [new branch]      cursorflow/run-mjoa9iiw-flp77/create-file -> cursorflow/run-mjoa9iiw-flp77/create-file
[21:35:36] [1-1-create-f] [36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[21:35:36] [1-1-create-f] [36m  ğŸ Final Consolidation: create-file[0m
[21:35:36] [1-1-create-f] [36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[90m[21:35:36][0m [36mâ„¹ï¸ INFO[0m ğŸ§¹ Deleting last task branch: cursorflow/run-mjoa9iiw-flp77/create-file--01-create-greeting
[21:35:36] [1-1-create-f] Deleted branch cursorflow/run-mjoa9iiw-flp77/create-file--01-create-greeting (was 9936ede).
[90m[21:35:36][0m [36mâ„¹ï¸ INFO[0m ğŸŒ¿ Creating final flow branch: create-file
[21:35:36] [1-1-create-f] Switched to a new branch 'create-file'
[21:35:36] [1-1-create-f] branch 'create-file' set up to track 'origin/create-file'.
[21:35:36] [1-1-create-f] To file:///tmp/cursorflow-real-e2e-ylmnJv/origin.git
[21:35:36] [1-1-create-f] * [new branch]      create-file -> create-file
[90m[21:35:36][0m [36mâ„¹ï¸ INFO[0m ğŸ—‘ï¸ Deleting local pipeline branch: cursorflow/run-mjoa9iiw-flp77/create-file
[21:35:36] [1-1-create-f] Your branch is up to date with 'origin/create-file'.
[21:35:36] [1-1-create-f] Already on 'create-file'
[21:35:36] [1-1-create-f] Deleted branch cursorflow/run-mjoa9iiw-flp77/create-file (was 00cd429).
[90m[21:35:36][0m [32mâœ… DONE[0m âœ“ Flow branch 'create-file' created. Remote pipeline branch preserved for dependencies.
[90m[21:35:36][0m [32mâœ… DONE[0m All tasks completed!

[36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[36m  ğŸ“¡ Lane Status[0m
[36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m

- create-file: completed (2/1)

[36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[36m  ğŸ“¡ Lane Status[0m
[36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m

- create-file: completed (2/1)
[90m[21:35:36][0m [35m[MAIN][0m [32mâœ… DONE[0m All lanes completed successfully!
  console.log
    
    â± Completed in 34s

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:376:15)

  console.log
    ğŸ“Š Exit code: 0

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:377:15)

  console.log
    
    ğŸ“Œ Git branches: [
      '+ create-file',
      'master',
      'remotes/origin/create-file',
      'remotes/origin/cursorflow/run-mjoa9iiw-flp77/create-file',
      'remotes/origin/cursorflow/run-mjoa9iiw-flp77/create-file--01-create-greeting',
      'remotes/origin/main'
    ]

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:381:15)

  console.log
    ğŸ“œ Git log: [
      '00cd429 chore: merge task create-greeting into pipeline',
      '9936ede feat: add greeting file',
      '0414714 Initial commit'
    ]

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:384:15)

  console.log
    ğŸ“ Logs directory created: true

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:395:15)

  console.log
    ğŸ“„ greeting.txt exists: true

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:406:19)

  console.log
    ğŸ“„ greeting.txt content: Hello from CursorFlow E2E Test!

      at Object.<anonymous> (tests/e2e/real-e2e.test.ts:410:21)

PASS e2e tests/e2e/real-e2e.test.ts (36.236 s)
  Real E2E: Complete CursorFlow Workflow
    Scenario 1: Single Lane - Create a File
      âœ“ should create a file using cursor-agent and commit to branch (33981 ms)
    Scenario 2: Multiple Independent Lanes (Sequential)
      â—‹ skipped should run two lanes sequentially with max-concurrent 1
    Scenario 3: Lane with Dependency
      â—‹ skipped should wait for base lane before running dependent lane
    Scenario 4: Complete Workflow with Merge
      â—‹ skipped should complete task and merge branch back to main

Test Suites: 1 passed, 1 total
Tests:       3 skipped, 1 passed, 4 total
Snapshots:   0 total
Time:        36.404 s
Ran all test suites matching tests/e2e/real-e2e.test.ts with tests matching "Scenario 1".
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
